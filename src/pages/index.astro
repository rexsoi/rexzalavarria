---
// Frontmatter for Astro (server-side code)
import '../styles/global.css';

const version = "1.3.0";
---

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Personal website of Rex S. Zalavarria - Personal Website">
    <meta name="author" content="Rex S. Zalavarria">
    <meta name="theme-color" content="#ffffff">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Rex S. Zalavarria">
    <meta property="og:description" content="Personal Website">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Rex S. Zalavarria">
    <meta name="twitter:description" content="Personal Website">

    <title>Rex S. Zalavarria</title>
</head>
<body class="min-h-screen flex flex-col max-w-4xl mx-auto px-4 py-8 sm:px-6 sm:py-12 text-gray-800">
    <a href="#main" class="sr-only">Skip to main content</a>

    <header class="mb-8">
        <h1 class="text-4xl sm:text-5xl font-bold mb-4 text-gray-900">Rex S. Zalavarria</h1>
        <div class="inline-block bg-gray-100 px-3 py-1 rounded text-sm" aria-label="Current version">
            Version: {version}
        </div>
    </header>

    <main id="main" class="flex-1">
        <p class="text-xl font-medium text-gray-700 my-6">Fastest and <strike>Primitive</strike> Website!</p>
        <p class="text-base text-gray-600 italic mb-4">Assisted by Claude Code.</p>

        <section class="mt-8 p-6 bg-gray-50 rounded-lg" aria-labelledby="about-heading">
            <h2 id="about-heading" class="text-3xl font-semibold mb-4 text-gray-800">About</h2>
            <p class="mb-4">Welcome to my personal website! This is a lightweight, fast-loading site built with modern web technologies while maintaining simplicity and accessibility at its core.</p>

            <p class="mb-4">This website is built with Astro and semantic HTML5, styled using Tailwind CSS v4, and enhanced with vanilla JavaScript. It follows web accessibility standards (WCAG) to ensure everyone can access and navigate the content easily.</p>

            <p class="mb-4">The site is hosted on GitHub Pages and features a build process using Vite and PostCSS for optimal performance. Despite using modern tooling, the focus remains on keeping things fast, simple, and maintainable.</p>

            <p>Feel free to explore the changelog below to see the evolution of this project!</p>
        </section>

        <section class="mt-8" aria-labelledby="changelog-heading">
            <h2 id="changelog-heading" class="text-3xl font-semibold mb-4 text-gray-800">Change Log</h2>

            <article class="mb-6 p-4 bg-gray-50 border-l-4 border-green-600">
                <time datetime="2025-11-30" class="font-semibold text-green-600">Date: 2025/11/30</time>
                <ul class="ml-6 mt-2 list-disc space-y-1">
                    <li>Migrated from static HTML to Astro v5.16.3 framework</li>
                    <li>Kept Tailwind CSS v4.1.17 with PostCSS integration</li>
                    <li>Integrated Vite as build tool for optimized performance</li>
                    <li>Converted index.html to src/pages/index.astro component</li>
                    <li>Migrated script.js functionality to inline Astro script tags</li>
                    <li>Moved static assets to public/ directory (Astro standard)</li>
                    <li>Updated Tailwind config to scan .astro files</li>
                    <li>Added astro.config.mjs for framework configuration</li>
                    <li>Updated .gitignore for Astro build outputs (dist/, .astro/)</li>
                    <li>Updated npm scripts for Astro development workflow</li>
                    <li>Added hot module reloading for instant dev updates</li>
                    <li>Preserved all accessibility features and WCAG compliance</li>
                    <li>Updated CLAUDE.md with new Astro architecture documentation</li>
                    <li>Updated version to 1.3.0</li>
                </ul>
            </article>

            <article class="mb-6 p-4 bg-gray-50 border-l-4 border-blue-600">
                <time datetime="2025-11-28" class="font-semibold text-blue-600">Date: 2025/11/28</time>
                <ul class="ml-6 mt-2 list-disc space-y-1">
                    <li>Initial Creation</li>
                    <li>Add CLAUDE.md</li>
                    <li>Improved accessibility with semantic HTML and ARIA labels</li>
                    <li>Added meta tags for SEO and social sharing</li>
                    <li>Implemented skip navigation for keyboard users</li>
                    <li>Added responsive styling and focus indicators</li>
                    <li>Applied web development best practices</li>
                    <li>Added support for reduced motion preferences</li>
                    <li>Improved mobile responsiveness</li>
                    <li>Separated CSS into external stylesheet (styles.css)</li>
                    <li>Created JavaScript file (script.js) with interactive features</li>
                    <li>Added smooth scrolling for skip navigation</li>
                    <li>Implemented scroll-to-top button</li>
                    <li>Added last visit tracking with localStorage</li>
                    <li>Improved code organization and maintainability</li>
                    <li>Created images folder for future assets</li>
                    <li>Added footer with copyright and hosting information</li>
                    <li>Implemented automatic year update in footer</li>
                    <li>Made footer stick to bottom when content is short using flexbox</li>
                    <li>Installed Tailwind CSS v4.1.17 (latest version)</li>
                    <li>Migrated from custom CSS to Tailwind utility classes</li>
                    <li>Added build process with PostCSS and npm scripts</li>
                    <li>Created .gitignore file for node_modules and build outputs</li>
                    <li>Updated CLAUDE.md with new Tailwind architecture documentation</li>
                    <li>Merged tailwind-installation branch into main</li>
                </ul>
            </article>
        </section>
    </main>

    <footer class="mt-12 pt-8 border-t-2 border-gray-300 text-center text-gray-600">
        <p class="mb-2 text-sm">&copy; <span id="current-year">2025</span> Rex S. Zalavarria. All rights reserved.</p>
        <p class="text-xs text-gray-500">Hosted by GitHub Pages | Built with Astro, Tailwind CSS & JavaScript</p>
    </footer>

    <script>
        /**
         * Main JavaScript for Rex S. Zalavarria's Website
         */

        // Smooth scrolling for skip navigation link
        document.addEventListener('DOMContentLoaded', function() {
            // Handle skip navigation smooth scroll
            const skipLink = document.querySelector('.sr-only');
            if (skipLink) {
                skipLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.focus();
                        target.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            }

            // Log website info to console
            console.log('%c Rex S. Zalavarria - Personal Website ', 'background: #0066cc; color: #fff; padding: 5px 10px; border-radius: 3px;');
            console.log('Fastest and Primitive Website!');
            console.log('GitHub Pages | Astro + Tailwind CSS v4');

            // Display last visit timestamp
            displayLastVisit();

            // Add scroll-to-top functionality
            addScrollToTop();

            // Update footer year automatically
            updateFooterYear();
        });

        /**
         * Display last visit information in console
         */
        function displayLastVisit() {
            const lastVisit = localStorage.getItem('lastVisit');
            const now = new Date().toISOString();

            if (lastVisit) {
                const lastVisitDate = new Date(lastVisit);
                console.log('Last visit:', lastVisitDate.toLocaleString());
            } else {
                console.log('Welcome! This is your first visit.');
            }

            // Store current visit
            localStorage.setItem('lastVisit', now);
        }

        /**
         * Add scroll to top functionality
         */
        function addScrollToTop() {
            // Create scroll-to-top button (hidden by default)
            const scrollButton = document.createElement('button');
            scrollButton.innerHTML = 'â†‘';
            scrollButton.setAttribute('aria-label', 'Scroll to top');
            scrollButton.className = 'scroll-to-top';
            scrollButton.style.cssText = `
                position: fixed;
                bottom: 20px;
                right: 20px;
                background: #0066cc;
                color: white;
                border: none;
                border-radius: 50%;
                width: 50px;
                height: 50px;
                font-size: 24px;
                cursor: pointer;
                display: none;
                z-index: 1000;
                box-shadow: 0 2px 10px rgba(0,0,0,0.2);
                transition: opacity 0.3s, transform 0.3s;
            `;

            document.body.appendChild(scrollButton);

            // Show button when scrolled down
            window.addEventListener('scroll', function() {
                if (window.pageYOffset > 300) {
                    scrollButton.style.display = 'block';
                } else {
                    scrollButton.style.display = 'none';
                }
            });

            // Scroll to top on click
            scrollButton.addEventListener('click', function() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });

            // Hover effect
            scrollButton.addEventListener('mouseenter', function() {
                this.style.transform = 'scale(1.1)';
            });

            scrollButton.addEventListener('mouseleave', function() {
                this.style.transform = 'scale(1)';
            });
        }

        /**
         * Update footer year automatically
         */
        function updateFooterYear() {
            const yearElement = document.getElementById('current-year');
            if (yearElement) {
                const currentYear = new Date().getFullYear();
                yearElement.textContent = currentYear;
            }
        }

        /**
         * Check if user prefers reduced motion
         */
        function prefersReducedMotion() {
            return window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        }
    </script>
</body>
</html>
